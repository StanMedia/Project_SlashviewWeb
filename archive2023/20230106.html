<!DOCTYPE html><html><head><meta charset=utf-8 /><meta name=viewport content="width=device-width, initial-scale=1" /><link href=/.file/site.css rel=stylesheet /><script src=/.include/jquery/jquery.min.js></script></head><body><header></header><main><h1>快速安裝與啟用Windows內建的SFTP伺服器</h1><p>最近有個專案需要使用到SFTP（SSH File Transfer Protocol）的相關功能，然而敝人沒有碰過SFTP相關的應用與軟體，所以稍微研究一下如何使用Windows 10內建的「Open SSH伺服器」來進行SFTP的架設工作，並記錄在此供日後參考。</p><h2>快速架設SFTP伺服器（Open SSH伺服器）</h2><p>Setp 1. 設定＞應用程式與功能＞（點選）選用功能</p><p><img src=https://content.slashview.com/img/2023/20230106_01.jpg alt="" /></p><p>Step 2. 點選「新增功能」＞在新增選用功能處輸入「openssh」＞勾選「Open SSH伺服器」＞點選「安裝」。</p><p><img src=https://content.slashview.com/img/2023/20230106_02.jpg alt="" /></p><p>Step 3. 等候系統安裝完成即可，非常方便快速。</p><p><img src=https://content.slashview.com/img/2023/20230106_03.jpg alt="" /></p><p>Step 4. 以「系統管理員」的權限，運行powershell，並輸入：「start-service sshd」來啟動服務。但因為我這個教學是為了「測試用途」，所以沒有設定成常設服務。若想要日後開機就自動啟動服務，請改成「start-service sshd -StartupType 'Automatic'」。</p><p><img src=https://content.slashview.com/img/2023/20230106_04.jpg alt="" /></p><p>Step 5. 接下來要討論的是誰可以登入這個SFTP（SSH），理論上你本機裡面的使用者都具備登入的權限，但因為測試方便，因此我們手動添加一個使用者=「demo」以利測試。</p><p><img src=https://content.slashview.com/img/2023/20230106_05.jpg alt="" /></p><p>Step 6. 接下來輸入「ssh 使用者帳號@主機地址」即可登入，第一次登入會要求你信任一張SHA256憑證，請打入「yes」三個字後並輸入密碼。</p><p><img src=https://content.slashview.com/img/2023/20230106_06.jpg alt="" /></p><p>Step 7. 進入後就可以看到這個demo使用者的預設登入位址內容，也就是自己的Home目錄（C:\Users\demo）。</p><p><img src=https://content.slashview.com/img/2023/20230106_07.jpg alt="" /></p><p>由上面步驟可得知，若沒有太多專業長時間使用考量，只是想要架設臨時或測試用途，利用Windows快速架設一個簡單可用的SSH服務其實非常的快速與方便，幾分鐘內就可以搞定了，而且完全不用煩惱金鑰、憑證的產生問題。</p><h2>附註</h2><p>若真的要使用對外部的服務，此時請考慮防火牆的開設動作，以利外部連線可以透過Port 22連入你的伺服器。</p><h6>Windows BuiltIn SSHServer SFTPServer AddUser OpenSSHServices OpenSSHServer Initial</h6></main><footer></footer><script src=/.file/site.js></script></body></html>