<!DOCTYPE html><html><head><meta charset=utf-8 /><meta name=viewport content="width=device-width, initial-scale=1" /><link href=/.file/site.css rel=stylesheet /><script src=/.include/jquery/jquery.min.js></script></head><body><header></header><main><h1>Cluster專用的名詞AP Mode/AA Mode</h1><p>前幾天在上 Hyper-V 的課程中，老師不斷的提到一個之前我聽都沒有聽過的名詞，資訊這個行業的領域真的是太廣了，我一直專注在程設的領域上，對於系統面的東西不懂也算是正常。</p><p>經過訪查網路資料後，有了比較明確的定義：</p><h2>Active/Passive Mode（AP）</h2><p>一台做活動的伺服器，另一台做待命伺服器，待命的機器，在活動機器正常運作時，基本上就是在那邊睡覺浪費電用。一般在講failover就是屬於這個，也是cluster HA基本款。</p><h2>Active/Active Mode（AA）</h2><p>兩台（或Ｎ台）同時運作，這個要視該應用程式系統的定義而定。</p><p>以Microsoft SQL來說，AA Mode就是兩台伺服器上安裝兩個資料庫實例，每台伺服器分別運行一個資料庫實例。當某一台伺服器發生故障時系統將把發生故障的伺服器上的資料庫實例切換到另一台伺服器上運行，也就是說另一台伺服器上同時運行兩個實例，當伺服器恢復正常後再手動將一個資料庫實例切換回另一台伺服器。AA模式保證了兩台伺服器資源都被利用。</p><p>所以並不是同一個程式，連到一台認知中的資料庫，就可以啟動AA交易喔，沒有那麼簡單容易的事。如果要完成單一程式碼，連到認知中的單一資料庫，進行IO，然後後面所有的資料庫要起來幫我運算執行，這個就要使用SQL的分散式交易MSDTC。</p><h6>Cluster AAMode APMode</h6></main><footer></footer><script src=/.file/site.js></script></body></html>