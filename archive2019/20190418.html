<!DOCTYPE html><html><head><meta charset=utf-8 /><meta name=viewport content="width=device-width, initial-scale=1" /><link href=/.file/site.css rel=stylesheet /><script src=/.include/jquery/jquery.min.js></script></head><body><header></header><main><h1>選擇或取消ASP.NET WebAPI的JSON、XML輸出格式</h1><p>ASP.NET WebAPI支援XML、JSON兩種輸出格式，在這個JSON氾濫的年代XML顯然已經不討喜，這篇廢文就是教你怎麼關掉XML的回應。</p><h2>ASP.NET WebAPI選擇輸出格式的方法</h2><ol><li>使用XML輸出</li></ol><p>在HTTP Request中送出下列指令，就可以得到XML回應資料。</p><pre><code class=language-txt>Accept: "application/xml"
</code></pre><ol start=2><li>使用JSON輸出</li></ol><p>在HTTP Request中送出下列指令，就可以得到JSON回應資料。</p><pre><code class=language-txt>Accept: "application/json"
</code></pre><h2>取消ASP.NET WebAPI某種輸出格式的方法</h2><p>基本上都是關掉XML啦，下面我還是都把兩個範例寫出來。基本上如果你兩個格式都關閉的話，ASP.NET WebAPI會採用「檔案輸出」的方式餵資料給你，也是蠻妙的。</p><pre><code class=language-cs>void Application_Start(object sender, EventArgs e)
{
  //關閉XML回應格式
  GlobalConfiguration.Configuration.Formatters.XmlFormatter.SupportedMediaTypes.Clear();
  //關閉JSON回應格式（你不是真的想這樣做吧？）
  //GlobalConfiguration.Configuration.Formatters.JsonFormatter.SupportedMediaTypes.Clear();
}
</code></pre><h6>ASP.NET WebAPI ResponseMode ResponseFormat JSON XML Files</h6></main><footer></footer><script src=/.file/site.js></script></body></html>