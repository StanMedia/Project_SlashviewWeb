<!DOCTYPE html><html><head><meta charset=utf-8 /><meta name=viewport content="width=device-width, initial-scale=1" /><link href=/.file/site.css rel=stylesheet /><script src=/.include/jquery/jquery.min.js></script></head><body><header></header><main><h1>在瀏覽器上測試遊戲搖桿可否正確運行</h1><p>因為一些需求必須要在網頁上進行搖桿的驅動，因此需要在瀏覽器中進行相關的測試工作，這個網頁可以讓你在線上測試遊戲搖桿，若可以在畫面上反映出按鈕按下的狀況等動作，代表確實在這台電腦這個瀏覽器中，可以進行遊戲搖桿的相關動作行為。</p><h2><i class="fa-solid fa-gamepad me-2"></i>測試遊戲搖桿是否可以在瀏覽器上運行</h2><div id=gamepadSupportedDiv class="alert alert-danger" style=display:none>您的瀏覽器目前並不支援遊戲搖桿。</div><div id=gamepadDisplayDiv><div id=buttonNeverPressedDiv class="alert alert-info">接上 🎮 遊戲搖桿後，請按下 <span class="badge bg-danger">搖桿任意按鈕</span>，即可在瀏覽器上直接測試遊戲搖桿狀態…</div><div id=buttonPressedDiv style=display:none><table id=gamepadStateTable class=table><tr><td colspan=5>🎮 遊戲搖桿狀態表</td></tr><tr><th>Index</th><th>Timestamp</th><th>Mapping</th><th>Connected</th><th>Id</th></tr><tr id=gpStateTableRow0></tr><tr id=gpStateTableRow1></tr><tr id=gpStateTableRow2></tr><tr id=gpStateTableRow3></tr></table><table class="gpTable table table-bordered border-secondary"><tr><td id=gp0Cell class="gpTableCell gpTableCellUnConnected">遊戲搖桿１尚未連接</td></tr><tr><td id=gp1Cell class="gpTableCell gpTableCellUnConnected">遊戲搖桿２尚未連接</td></tr><tr><td id=gp2Cell class="gpTableCell gpTableCellUnConnected">遊戲搖桿３尚未連接</td></tr><tr><td id=gp3Cell class="gpTableCell gpTableCellUnConnected">遊戲搖桿４尚未連接</td></tr></table></div></div><p>原始碼參考：<a href=https://github.com/MicrosoftEdge/Gamepad-Sample>Microsoft Edge open source projects</a></p><h6>Chrome Edge FireFox Safari Browser Online Testing Gamepad Dpad Joystick XboxController</h6><style>.circle,.oval{background-clip:border-box;font-weight:700;text-align:center}.circle,.gpNotConnectedText,.oval{text-align:center}#gamepadDisplayDiv{margin-top:2em}.gpTable{margin-top:2em}.gpTableCell{border-radius:6px}.gpTableCellUnConnected{color:#808080}.gpNotConnectedText{font-size:26pt}#gamepadStateTable,#gamepadStateTable th{border-collapse:collapse}#gamepadStateTable th{font-weight:700;text-align:left}#gamepadStateTable td,#gamepadStateTable th{border:1px solid #0094ff;padding:1px 5px}.AxisVisualizer{width:108px;height:108px;background-image:url(https://content.slashview.com/img/2022/20220913_CrosshairBall.png),url(https://content.slashview.com/img/2022/20220913_Grid.png);background-position:10px 10px,4px 4px;background-repeat:no-repeat}.AnalogButtonVisualizer{width:30px;height:100px;background-image:url(https://content.slashview.com/img/2022/20220913_TriggerMeterFill.png),url(https://content.slashview.com/img/2022/20220913_TriggerMeter.png);background-repeat:no-repeat;font-weight:700;text-align:center}.VisualizerGeneric{float:left;margin:5px}.AnalogButtonVisualizer #val{font-size:9pt;font-weight:400}.oval{border:1px solid #0094ff;border-radius:3px}.circle{width:20px;height:20px;border:1px solid #0094ff;border-radius:100%;line-height:20px}.DPad{position:relative;left:10px;width:65px;height:64px;background-image:url(https://content.slashview.com/img/2022/20220913_Dpad.png)}.btnDD,.btnDL,.btnDR,.btnDU{width:20px;height:20px;position:absolute}.btnDU{left:23px;top:1px;border-radius:3px 3px 0 0}.btnDL{left:1px;top:22px;border-radius:3px 0 0 3px}.btnDR{left:44px;top:23px;border-radius:0 3px 3px 0}.btnDD{left:23px;top:43px;border-radius:0 0 3px 3px}.selOrStart{width:45px}.bumper{width:80px}#gamepadSupportedDiv{font-size:2em}#buttonNeverPressedDiv{font-size:2em}</style><script>function Init(){void 0===navigator.getGamepads?(document.getElementById("gamepadSupportedDiv").style.display="block",document.getElementById("gamepadDisplayDiv").style.display="none"):window.requestAnimationFrame(runAnimation)}function runAnimation(){for(var t,i,r=navigator.getGamepads(),n=0;n<r.length;n++)t=r[n],t?(buttonPressedOnAnyGamepadEver||(document.getElementById("buttonNeverPressedDiv").style.display="none",document.getElementById("buttonPressedDiv").style.display="block",buttonPressedOnAnyGamepadEver=!0),i=new(t.mapping&&"standard"===t.mapping?StandardGamepadVisualizer:GenericGamepadVisualizer)(t),gamepadVisualizers[n]=i):gamepadVisualizers[n]&&(gamepadVisualizers[n].retired=!0);for(n=0;n<gamepadVisualizers.length;n++)i=gamepadVisualizers[n],gamepadVisualizers[n]&&i.UpdateView();window.requestAnimationFrame(runAnimation)}function FloatValueAsString(n){return n.toString().substring(0,4)}function UpdateGamepadStateTable(n,t){var i="N/A",r="N/A",u="N/A",f="N/A",e="N/A";n&&(e=void 0!==n.id?n.id:"undefined",f=void 0!==n.mapping?n.mapping:"undefined",r=void 0!==n.index?n.index:"undefined",i=void 0!==n.connected?n.connected:"undefined",u=void 0!==n.timestamp?n.timestamp/1e3+"s":"undefined");n=(n=(n=(n=(n=(n=stateTableRowTemplate).replace(/gpIndex/g,r)).replace(/gpTimestamp/g,u)).replace(/gpMapping/g,f)).replace(/gpConnected/g,i)).replace(/gpId/g,e);document.getElementById("gpStateTableRow"+t).innerHTML=n.replace(/\[#\]/g,t)}function ClearGamepadStateTableRow(n){document.getElementById("gpStateTableRow"+n).innerHTML=""}function StandardGamepadVisualizer(n){this.pad=n;this.index=n.index;this.containerElemId="gp"+this.index+"Cell";this.leftThumbVisualizer=new AxisVisualizer("gp"+this.index+"leftThumb");this.rightThumbVisualizer=new AxisVisualizer("gp"+this.index+"rightThumb");this.leftTriggerVisualizer=new AnalogButtonVisualizer("gp"+this.index+"LT");this.rightTriggerVisualizer=new AnalogButtonVisualizer("gp"+this.index+"RT");this.retired=!1;this.UpdateView=function(){var r,t,n=this.pad,i=document.getElementById(this.containerElemId);n&&!this.retired?"standard"===n.mapping&&(t=starndardGamepadVisualizerTemplate.replace(/gp\[#\]/g,"gp"+this.index),i.innerHTML=t,this.leftThumbVisualizer.setXAxisValue(n.axes[0]),this.leftThumbVisualizer.setYAxisValue(n.axes[1]),this.rightThumbVisualizer.setXAxisValue(n.axes[2]),this.rightThumbVisualizer.setYAxisValue(n.axes[3]),r=n.buttons[6],t=n.buttons[7],this.leftTriggerVisualizer.setValue(r.value,r.pressed),this.rightTriggerVisualizer.setValue(t.value,t.pressed),this.UpdateButtons(n),UpdateGamepadStateTable(n,n.index),i.classList.remove("gpTableCellUnConnected")):(i.innerHTML="<div class='gpNotConnectedText'>遊戲搖桿尚未連接<\/div>",ClearGamepadStateTableRow(this.index),i.classList.add("gpTableCellUnConnected"))};this.buttonMap=[{buttonIndex:0,elemIdTemplate:"gp[#]BtnA"},{buttonIndex:1,elemIdTemplate:"gp[#]BtnB"},{buttonIndex:2,elemIdTemplate:"gp[#]BtnX"},{buttonIndex:3,elemIdTemplate:"gp[#]BtnY"},{buttonIndex:4,elemIdTemplate:"gp[#]BtnLB"},{buttonIndex:5,elemIdTemplate:"gp[#]BtnRB"},{buttonIndex:8,elemIdTemplate:"gp[#]BtnSelect"},{buttonIndex:9,elemIdTemplate:"gp[#]BtnStart"},{buttonIndex:10,elemIdTemplate:"gp[#]BtnLThumb"},{buttonIndex:11,elemIdTemplate:"gp[#]BtnRThumb"},{buttonIndex:12,elemIdTemplate:"gp[#]BtnDU"},{buttonIndex:13,elemIdTemplate:"gp[#]BtnDD"},{buttonIndex:14,elemIdTemplate:"gp[#]BtnDL"},{buttonIndex:15,elemIdTemplate:"gp[#]BtnDR"}];this.UpdateButtons=function(n){for(var i,r,t=0;t<this.buttonMap.length;t++)r=this.buttonMap[t].visualizer,this.buttonMap[t].buttonIndex<n.buttons.length&&(i=this.buttonMap[t].buttonIndex,i=n.buttons[i],r.setValue(i.value,i.pressed))};this.Init=function(){for(var t,n=0;n<this.buttonMap.length;n++)t=this.buttonMap[n].elemIdTemplate.replace(/\[#\]/g,this.index),this.buttonMap[n].visualizer=new DigitalButtonVisualizer(t)};this.Init()}function GenericGamepadVisualizer(n){this.pad=n;this.index=n.index;this.containerElemId="gp"+this.index+"Cell";this.retired=!1;this.Init=function(n){for(var r,u=document.getElementById(this.containerElemId),i="",t=0;t<n.buttons.length;t++)r="gp"+this.index+"Btn"+t,i+='<div id="gp[#]" class="AnalogButtonVisualizer VisualizerGeneric" style="">[BTN#]<div id="val"><\/div><\/div>'.replace(/gp\[#\]/g,r).replace(/\[BTN#\]/g,"B"+t);for(i+="<br>",t=0;t<n.axes.length;t+=2)r="gp"+this.index+"Axis"+t,i+='<div id="gp[#]" class="AxisVisualizer VisualizerGeneric"><div id="val"><\/div><\/div>'.replace(/gp\[#\]/g,r);u.innerHTML=i};this.UpdateView=function(){var t=this.pad,r=document.getElementById(this.containerElemId),n,i,u;if(t&&!this.retired){if(""===t.mapping){for(n=0;n<t.buttons.length;n++)i=new AnalogButtonVisualizer("gp"+this.index+"Btn"+n),u=t.buttons[n],i.setValue(u.value,u.pressed);for(n=0;n<t.axes.length;n+=2)(i=new AxisVisualizer("gp"+this.index+"Axis"+n)).setXAxisValue(t.axes[n]),t.axes[n+1]&&i.setYAxisValue(t.axes[n+1]);UpdateGamepadStateTable(t,t.index);r.classList.remove("gpTableCellUnConnected")}}else r.innerHTML="<div class='gpNotConnectedText'>遊戲搖桿尚未連接<\/div>",ClearGamepadStateTableRow(this.index),r.classList.add("gpTableCellUnConnected")};this.Init(n)}function AxisVisualizer(n){this.XAxisValue=0;this.YAxisValue=0;this.elemId=n;this.cxCursor=11;this.setElemStyles=function(n){var t=this.cxCursor- -99,i=(this.cxCursor-1)/2,r;n.style.width=t+"px";n.style.height=t+"px";r=Math.round(50*(this.XAxisValue+1));t=Math.round(50*(this.YAxisValue+1));n.style.backgroundPosition=r+"px "+t+"px, "+i+"px "+i+"px";(1<this.value||this.value<-1)&&alert("Invalid Value!");(n=n.childNodes)[n.length-1].innerHTML=FloatValueAsString(this.XAxisValue)+","+FloatValueAsString(this.YAxisValue)};this.setXAxisValue=function(n){n<-1?n=-1:1<n&&(n=1);this.XAxisValue=n;this.onValueChange()};this.setYAxisValue=function(n){n<-1?n=-1:1<n&&(n=1);this.YAxisValue=n;this.onValueChange()};this.onValueChange=function(){var n=document.getElementById(this.elemId);this.setElemStyles(n)}}function AnalogButtonVisualizer(n){this.elemId=n;this.value=0;this.fIsPressed=!1;this.setElemStyles=function(n){var t=Math.round(98*this.value),i=99-t;n.style.backgroundPosition="1px "+i+"px, 0px 0px";n.style.backgroundSize="28px "+t+"px, 30px 100px";n.style.color=this.fIsPressed?"salmon":"black";(1<this.value||this.value<0)&&alert("oops!");(n=n.childNodes)[n.length-1].innerHTML=FloatValueAsString(this.value)};this.setValue=function(n,t){n<-1?n=-1:1<n&&(n=1);this.value=n;this.fIsPressed=t;t=document.getElementById(this.elemId);this.setElemStyles(t)}}function DigitalButtonVisualizer(n){this.elemId=n;this.value=0;this.fIsPressed=!1;this.setElemStyles=function(n){n.style.backgroundColor=1===this.value?"#8AFF59":"transparent";n.style.color=this.fIsPressed?"salmon":"black"};this.setValue=function(n,t){this.value=n;this.fIsPressed=t;t=document.getElementById(this.elemId);this.setElemStyles(t)}}var buttonPressedOnAnyGamepadEver,gamepadVisualizers,stateTableRowTemplate,starndardGamepadVisualizerTemplate;$(function(){$(function(){Init()})});buttonPressedOnAnyGamepadEver=!1;gamepadVisualizers=[];stateTableRowTemplate="  <td><div>gpIndex<\/div><\/td>  <td><div>gpTimestamp<\/div><\/td>  <td><div>gpMapping<\/div><\/td>  <td><div>gpConnected<\/div><\/td>  <td><div>gpId<\/div><\/td>";starndardGamepadVisualizerTemplate='  <table class="gamepadVisualizer">    <tr>      <th><\/th>      <td colspan="3"><div id="gp[#]BtnLB" class="oval && bumper">LB<\/div><\/td>      <td colspan="2"><\/td>      <td id="gp[#]BtnRB" colspan="3"><div class="oval && bumper">RB<\/div><\/td>      <th><\/th>    <\/tr>    <tr>      <td rowspan="3"><div id="gp[#]LT" class="AnalogButtonVisualizer">LT<div id="val"><\/div><\/div><\/td>      <td colspan="3" rowspan="3"><div class="DPad" id="DPad1"><div class="btnDU" id="gp[#]BtnDU"><\/div><div class="btnDL" id="gp[#]BtnDL"><\/div><div class="btnDR" id="gp[#]BtnDR"><\/div><div class="btnDD" id="gp[#]BtnDD"><\/div><\/div><\/td>      <td colspan="3"><\/td>      <td><div id="gp[#]BtnY" class="circle">Y<\/div><\/td>      <td><\/td>      <td rowspan="3"><div id="gp[#]RT" class="AnalogButtonVisualizer">RT<div id="val"><\/div><\/div><\/td>    <\/tr>    <tr>      <td><div id="gp[#]BtnSelect" class="oval && selOrStart">Select<\/div><\/td>      <td><div id="gp[#]BtnStart" class="oval && selOrStart">Start<\/div><\/td>      <td><div id="gp[#]BtnX" class="circle">X<\/div><\/td>      <td><\/td>      <td><div id="gp[#]BtnB" class="circle">B<\/div><\/td>    <\/tr>    <tr><td colspan="3"><\/td><td><div id="gp[#]BtnA" class="circle">A<\/div><\/td><\/tr>    <tr>      <td><\/td>      <td colspan="4"><div id="gp[#]BtnLThumb" class="oval">Left Thumb<\/div><\/td>      <td colspan="4"><div id="gp[#]BtnRThumb" class="oval">Right Thumb<\/div><\/td>    <\/tr>    <tr>      <td><\/td>      <td colspan="4"><div id="gp[#]leftThumb" class="AxisVisualizer"><div id="val"><\/div><\/div><\/td>      <td colspan="4"><div id="gp[#]rightThumb" class="AxisVisualizer"><div id="val"><\/div><\/div><\/td>    <\/tr>  <\/table>'</script></main><footer></footer><script src=/.file/site.js></script><script src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7039045520564660"></script></body></html>